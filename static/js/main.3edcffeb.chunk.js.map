{"version":3,"sources":["components/CreateNewUser/index.tsx","components/Header/index.tsx","components/CreateNewUserButton/index.tsx","components/PageHeader/index.tsx","components/UsersList/index.tsx","components/UserDetails/index.tsx","App.tsx","index.tsx"],"names":["Positions","Header2","className","to","CreateNewUserButton","PageHeader","title","showButton","UsersList","useState","users","setUsers","currentPage","setCurrentPage","totalPages","setTotalPages","a","fetch","response","json","data","page","total_pages","useEffect","fetchUsers","arrayTotalPages","i","push","map","user","id","first_name","last_name","pageNumber","onClick","UserDetails","setUser","useParams","console","log","src","avatar","alt","email","minDate","Date","setFullYear","getFullYear","CreateNewUserSchema","Yup","shape","firstName","matches","required","lastName","date","max","url","method","headers","body","JSON","stringify","CreateNewUser","savedData","setSavedData","initialValues","position","validationSchema","onSubmit","values","setSubmitting","postNewUser","then","catch","error","errors","touched","handleChange","name","placeholder","onChange","value","label","disabled","hidden","SoftwareEngineer","Painter","BusDriver","type","App","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3edcffeb.chunk.js","sourcesContent":["// https://formik.org/docs/guides/typescript\n\n// https://formik.org/docs/examples/typescript\n\n// https://formik.org/docs/guides/validation\n// https://github.com/jquense/yup#api\n\n// https://www.npmjs.com/package/react-date-picker\n\nimport { useState } from \"react\";\n\nimport { Formik, FormikHelpers, FormikProps, Form, Field } from \"formik\";\n\n//Yup for form validation\nimport * as Yup from \"yup\";\n\n//components\nimport PageHeader from \"../PageHeader\";\n\n//styles\nimport \"./CreateNewUser.scss\";\n\nconst minDate = new Date();\nminDate.setFullYear(minDate.getFullYear() - 18);\n\ninterface FormValues {\n  firstName: string;\n  lastName: string;\n  position: string;\n  date: Date | string;\n}\n\nenum Positions {\n  SoftwareEngineer = \"Software Engineer\",\n  Painter = \"Painter\",\n  BusDriver = \"Bus driver\",\n}\n\n//https://stackoverflow.com/questions/51222559/formik-yup-form-validation-not-working-as-expected-with-virtualizedselect\n// https://github.com/jquense/yup#mixednullableisnullable-boolean--true-schema\nconst CreateNewUserSchema = Yup.object().shape({\n  firstName: Yup.string()\n    .matches(/^[a-z\\s]+$/i, \"Only latin craracters pls\")\n    .required(\"Required\"),\n  lastName: Yup.string()\n    .matches(/^[a-z\\s]+$/i, \"Only latin craracters pls\")\n    .required(\"Required\"),\n  date: Yup.date()\n    .max(minDate, \"Sorry you must be 18 years old\")\n    .required(\"Required\"),\n});\n\n//https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch#supplying_request_options\nasync function postNewUser(url: string, data: FormValues): Promise<Object> {\n  const response = await fetch(url, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify(data),\n  });\n  return response.json();\n}\n\nconst CreateNewUser = () => {\n  const [savedData, setSavedData] = useState(null as Object | null);\n\n  const initialValues: FormValues = {\n    firstName: \"\",\n    lastName: \"\",\n    position: \"\",\n    date: \"\",\n  };\n  return (\n    <div className=\"wrapper\">\n      <PageHeader title={\"Create New User\"} showButton={false} />\n      <Formik\n        initialValues={initialValues}\n        validationSchema={CreateNewUserSchema}\n        onSubmit={(\n          values: FormValues,\n          { setSubmitting }: FormikHelpers<FormValues>\n        ) => {\n          postNewUser(\"https://reqres.in/api/users/\", values)\n            .then((data) => {\n              setSavedData(data);\n              console.log(data);\n            })\n            .catch((error) => console.error(error));\n          setSubmitting(false);\n        }}\n      >\n        {({\n          values,\n          errors,\n          touched,\n          handleChange,\n        }: FormikProps<FormValues>) => (\n          <Form>\n            <label>\n              First Name:\n              <Field\n                name=\"firstName\"\n                placeholder=\"enter your first name\"\n                required\n              />\n              {errors.firstName && touched.firstName && (\n                <div>{errors.firstName}</div>\n              )}\n            </label>\n            <br />\n            <label>\n              Last Name:\n              <Field\n                className={errors.lastName && touched.lastName ? \"red\" : null}\n                name=\"lastName\"\n                placeholder=\"enter your last name\"\n                required\n              />\n              {errors.lastName && touched.lastName ? (\n                <div>{errors.lastName}</div>\n              ) : null}\n            </label>\n            <br />\n\n            <label>\n              Occupation\n              {/* https://codesandbox.io/s/vxv6q4z5?file=/index.js:943-949 */}\n              <select\n                onChange={handleChange}\n                name=\"position\"\n                value={values.position}\n                required\n              >\n                <option value=\"\" label=\"Select occupation\" disabled hidden />\n                <option value={Positions.SoftwareEngineer}>\n                  {Positions.SoftwareEngineer}\n                </option>\n                <option value={Positions.Painter}>{Positions.Painter}</option>\n                <option value={Positions.BusDriver}>\n                  {Positions.BusDriver}\n                </option>\n              </select>\n            </label>\n            <br />\n\n            <label>\n              Date of Birth:\n              <Field\n                required\n                type=\"date\"\n                name=\"date\"\n                className={`date-picker ${errors.date ? \"red\" : \"green\"}`}\n              />\n              {errors.date && touched.date ? <div>{errors.date}</div> : null}\n            </label>\n\n            <br />\n            <button type=\"submit\">Submit</button>\n          </Form>\n        )}\n      </Formik>\n      {savedData && <div>Response result: {JSON.stringify(savedData)}</div>}\n    </div>\n  );\n};\n\nexport default CreateNewUser;\n\n// https://medium.com/flyparakeet/react-formik-styled-components-add78b37971f\n\n// https://formik.org/docs/guides/validation\n// https://github.com/jquense/yup#api\n\n// https://www.npmjs.com/package/react-date-picker\n\n// https://formik.org/docs/guides/validation\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Header.scss\";\n\nconst Header2 = (): JSX.Element => {\n  return (\n    <header className=\"header\">\n      <div className=\"header__wrapper\">\n        <Link to=\"/\">\n          <h1>Fetch them all</h1>\n        </Link>\n        <button>Language</button>\n      </div>\n    </header>\n  );\n};\n\nexport default Header2;\n","import React from \"react\";\n\n// Router\nimport { Link } from \"react-router-dom\";\n\n// Icons\nimport { AiFillPlusCircle } from \"react-icons/ai\";\n\n//styles\nimport './CreateNewUserButton.scss';\n\nconst CreateNewUserButton = () => {\n  return (\n      <Link to=\"/create-new-user\">\n        <button className=\"create-new-user-button\">\n          <AiFillPlusCircle className=\"plus-icon\" />\n          Create New User\n        </button>\n      </Link>\n  );\n};\n\nexport default CreateNewUserButton;\n","import React from \"react\";\n\nimport CreateNewUserButton from \"../CreateNewUserButton\";\n\nimport \"./PageHeader.scss\";\n\ntype PageHeaderProps = {\n  title: string;\n  showButton: boolean;\n};\n\nconst PageHeader = ({ title, showButton }: PageHeaderProps) => {\n  return (\n    <div className=\"users-header\">\n      <h2>{title}</h2>\n      {showButton && <CreateNewUserButton />}\n    </div>\n  );\n};\n\nexport default PageHeader;\n","import { useState, useEffect } from \"react\";\n\n// Router\nimport { Link } from \"react-router-dom\";\n\n//components\nimport PageHeader from \"../PageHeader\";\n\n// Icons\nimport { RiArrowRightSLine } from \"react-icons/ri\";\n\n// Styles\nimport \"./UsersList.scss\";\n\ntype UserType = {\n  id: number;\n  email: string;\n  first_name: string;\n  last_name: string;\n  avatar: string;\n};\n\nconst UsersList = () => {\n  const [users, setUsers] = useState<UserType[]>([]);\n  const [currentPage, setCurrentPage] = useState<number>(1);\n  const [totalPages, setTotalPages] = useState<number>(1);\n\n  // TODO: Вынести в utilitis! Использовать axios можно. Возвращать просто json\n  async function fetchUsers(currentPage: number) {\n    const response = await fetch(\n      `https://reqres.in/api/users?page=${currentPage}`\n    );\n    const json = await response.json();\n    setUsers(json.data);\n    setCurrentPage(json.page);\n    setTotalPages(json.total_pages);\n  }\n\n  useEffect(() => {\n    fetchUsers(currentPage);\n  }, [currentPage]);\n\n  const arrayTotalPages: Array<number> = [];\n\n  for (let i = 1; i <= totalPages; i++) {\n    arrayTotalPages.push(i);\n  }\n\n  return (\n    <main>\n      <div className=\"wrapper\">\n        <PageHeader title={\"Users List\"} showButton={true} />\n\n        <div className=\"users-list\">\n          {/* {isLoading && <h2>Loading...</h2>} */}\n          {users.map((user) => (\n            <Link\n              to={`/user/${user.id}`}\n              className=\"users-list__user\"\n              key={user.id}\n            >\n              <span className=\"users-list__name\">\n                {user.first_name} {user.last_name}\n              </span>\n              <RiArrowRightSLine />\n            </Link>\n          ))}\n        </div>\n      </div>\n      {/* TODO: Пагинацию в отдельный компонент */}\n      <div>\n        <ul className=\"pagination\">\n          {arrayTotalPages.map((pageNumber: number) => (\n            <li key={pageNumber}>\n              <button onClick={() => setCurrentPage(pageNumber)}>\n                {pageNumber}\n              </button>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </main>\n  );\n};\n\nexport default UsersList;\n","import { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\n//components\nimport PageHeader from \"../PageHeader\";\n\n//styles\nimport \"./UserDetails.scss\";\n\ntype RouteParams = {\n  id: string;\n};\n\ntype UserType = {\n  id: number;\n  email: string;\n  first_name: string;\n  last_name: string;\n  avatar: string;\n};\n\nconst UserDetails = () => {\n  const [user, setUser] = useState({} as UserType);\n  let { id } = useParams<RouteParams>();\n\n  async function fetchUsers(id: string) {\n    const response = await fetch(`https://reqres.in/api/users/${id}`);\n    const json = await response.json();\n    setUser(json.data);\n  }\n\n  useEffect(() => {\n    fetchUsers(id);\n  }, [id]);\n\n  console.log(user);\n\n  return (\n    <div className=\"wrapper\">\n      <PageHeader title={\"User Details\"} showButton={true} />\n      <div className=\"user-details\">\n        <img src={user.avatar} alt={user?.first_name} />\n        <p>{user.first_name}</p>\n        <p>{user.last_name}</p>\n        <p>{user.email}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default UserDetails;\n","import React from \"react\";\n// import \"./App.scss\";\n\n// Router\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n//components\nimport Header from \"./components/Header\";\nimport UsersList from \"./components/UsersList\";\nimport UserDetails from \"./components/UserDetails\";\nimport CreateNewUser from \"./components/CreateNewUser\";\n\nfunction App() {\n  return (\n    <Router>\n      <Header />\n      <Switch>\n        <Route path=\"/user/:id\">\n          <UserDetails />\n        </Route>\n        <Route path=\"/create-new-user\">\n          <CreateNewUser />\n        </Route>\n        <Route path=\"/\">\n          <UsersList />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/main.scss\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}